{% extends "base.html" %}

{% block title %}Home Page{% endblock %}

{% block content %}


            <div class="section raised mainContent">
                <div>
                  <div class="splitWidthContainer">
                    <div class="left">
                          <h3 class="colour">ENCODERS</h3>
                          <br>
                          <div class="section lowered" style="min-height:150px;">
                            {% for encoder in config['Encoder'][0]['encoder_types'] %}
                            <label><input onclick="selectedEncoder('{{ encoder.id }}', {{encoder.active_codecs}})" type="radio" name="encoder" value="{{ encoder.name }}"> {{ encoder.name }}</label>
                            <br>
                            {% endfor %}
                          </div>
                      <br><br><br>
                        <h3 class="colour">ENCODER MODES</h3>
                        <br>
                        <div class="section lowered" style="min-height:200px;">
                        {% for encoder_mode in config['Encoder'][2]['encoder_modes'] %}
                        <label><input type="radio" name="encoder_modes" value="{{encoder_mode.name}}"> {{encoder_mode.name}}</label><br>
                        {% endfor %}
                      </div>
                  </div>
                  <div class="right">
                        <h3 class="colour">CODECS</h3>
                        <br>
                        <div class="section lowered" style="min-height:150px;">
                          {% for codec in config['Encoder'][1]['codecs'] %}
                          <label ><input disabled id="codec_{{codec.id}}" type="radio" name="codec" value="{{codec.name}}"> {{codec.name}}</label><br>
                          {% endfor %}
                        </div>
                    <br><br><br>
                    <div class="splitWidthContainer">
                      <div class="left" style="padding:0px;padding-right:15px;">
                            <h3 class="colour">NUMBER OF LAYERS</h3>
                            <br>
                            <div class= "section lowered" style="min-height:200px;">
                              <label><input type="radio" name="layers" value="1"> 1</label>
                              <br>
                              <label><input type="radio" name="layers" value="2"> 2</label>
                              <br>
                              <label><input type="radio" name="layers" value="3"> 3</label>
                              <br>
                              <label><input type="radio" name="layers" value="4"> 4</label>
                              <br>
                              <label><input type="radio" name="layers" value="5"> 5</label>
                              <br>
                              <label><input type="radio" name="layers" value="6"> 6</label>
                              <br>
                              <label><input type="radio" name="layers" value="7"> 7</label>
                            </div>
                      </div>
                      <div class="right" style="padding:0px;">
                            <h3 class="colour">SCALABILITY</h3>
                            <br>
                            <div class="section lowered" style="min-height:200px;">
                              <label><input type="radio" name="scalability" value="yes">YES</label><br>
                              <label><input type="radio" name="scalability" value="no">NO</label>
                            </div>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
            </div>
            <br>
            <!-- THIS SECTION TO BE ADDED TO A BASE OR AS A COMPONENT !-->
            <!-- NEXT PAGE BUTTON -->
            <div class="splitWidthContainer">
              <div class="left">
                <a href="{{ url_for('root') }}" class="button colour raised roundedCorners backButton"><i class="fa-solid fa-caret-left"></i> Back</a>

              </div>
              <div class="right" style="text-align:right">
                <a href="{{ url_for('video_options') }}" class="button colour raised roundedCorners nextButton">Next <i class="fa-solid fa-caret-right"></i></a>
              </div>
            </div>

            <script>
              function disableCodecInputs() {
                  // Get all input elements on the page
                  const inputs = document.getElementsByTagName('input');

                  // Loop through each input element
                  for (let i = 0; i < inputs.length; i++) {
                      const input = inputs[i];

                      // Check if the input element's ID includes 'codec_'
                      if (input.id.includes('codec_')) {
                          // Set the input element's disabled property to true
                          input.disabled = true;
                          input.checked = false;
                      }
                  }
              }

              // Function to handle the radio button selection
              function selectedEncoder(encoder_id, active_codecs) {
                disableCodecInputs();
                  for (const codec of active_codecs) {
                    var codecElement = document.getElementById("codec_" + codec);
                    codecElement.disabled = false;
                  }
              }
            </script>

{% endblock %}
